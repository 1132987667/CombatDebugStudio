# 战斗系统UI优化计划

## 问题分析
1. **战斗日志文本颜色区分**：敌人和我方角色的日志文本没有颜色区分
2. **技能使用结果输出**：技能使用的详细结果没有完整显示
3. **能量条不更新**：角色能量值没有从战斗系统同步到UI

## 解决方案

### 1. 战斗日志文本颜色区分
- **修改 `syncBattleLogs` 函数**：根据参与者类型设置不同的日志级别
- **更新 CSS 样式**：为敌人和我方角色定义不同的文本颜色
  - 敌人：红色文本
  - 我方：绿色文本

### 2. 技能使用结果输出
- **增强 `syncBattleLogs` 函数**：
  - 更详细地解析 `action.effects` 数组
  - 确保技能使用的所有效果（伤害、治疗、能量变化等）都被正确输出
  - 添加技能使用结果的详细描述

### 3. 能量条更新
- **修改 `syncParticipantsState` 函数**：
  - 添加对 `currentEnergy` 和 `maxEnergy` 的同步
  - 确保能量值从战斗系统正确传递到UI组件

### 4. 其他优化
- **完善日志信息**：确保所有战斗相关信息都能清晰显示
- **优化能量显示**：确保能量条实时反映角色当前能量状态
- **增强用户体验**：使战斗过程更加直观和美观

## 实现步骤
1. **修改 `syncParticipantsState` 函数**：添加能量值同步
2. **增强 `syncBattleLogs` 函数**：完善技能使用结果输出和颜色区分
3. **更新 CSS 样式**：为不同类型的参与者定义颜色
4. **测试验证**：确保所有功能正常工作

## 预期效果
- 战斗日志中敌人文本显示为红色，我方角色显示为绿色
- 技能使用的详细结果（如伤害值、治疗量等）清晰显示
- 双方角色的能量条实时更新，如回合开始时从0变为25
- 战斗过程更加直观和美观